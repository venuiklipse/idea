<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="za.co.idea.ip.orm.bean.IpLogin" table="ip_login" catalog="ipdb">
        <id name="loginId" type="java.lang.Long">
            <column name="login_id" />
            <generator class="assigned" />
        </id>
        <many-to-one name="ipUser" class="za.co.idea.ip.orm.bean.IpUser" fetch="select">
            <column name="login_user_id" not-null="true" unique="true" />
        </many-to-one>
        <property name="loginName" type="java.lang.String">
            <column name="login_name" length="65535" not-null="true" />
        </property>
        <property name="loginPwd" type="java.lang.String">
            <column name="login_pwd" length="65535" not-null="true" />
        </property>
        <property name="loginLastDt" type="java.sql.Timestamp">
            <column name="login_last_dt" length="19" />
        </property>
        <property name="loginSecQ" type="java.lang.String">
            <column name="login_sec_q" length="450" not-null="true" />
        </property>
        <property name="loginSecA" type="java.lang.String">
            <column name="login_sec_a" length="450" not-null="true" />
        </property>
    </class>
	<sql-query name="verifyLogin">
		select login.* from ip_login login where login.login_name=:login and login.login_pwd=:pwd
		<return alias="login" class="za.co.idea.ip.orm.bean.IpLogin" />
	</sql-query>
	<sql-query name="fetchLogin">
		select login.* from ip_login login where login.login_name=:login
		<return alias="login" class="za.co.idea.ip.orm.bean.IpLogin" />
	</sql-query>
	<sql-query name="updatePassword">
		update ip_login set login_pwd=:pwd where login_name=:login
	</sql-query>
	<sql-query name="updateSecurity">
		update ip_login set login_sec_q=:secq, login_sec_a=:seca where login_name=:login
	</sql-query>
</hibernate-mapping>
