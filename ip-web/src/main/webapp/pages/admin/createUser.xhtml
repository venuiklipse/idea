<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
<h:body>
	<ui:composition template="/templates/layout.xhtml">
		<ui:define name="title">Create User</ui:define>
		<ui:define name="body">
			<p:dialog id="dlgFBHelp" widgetVar="dlgFB" resizable="false" dynamic="true" showEffect="explode" hideEffect="bounce" position="10,100" appendToBody="true">
				<h:panelGrid columns="2" style="margin-bottom:10px">
					<p:graphicImage id="giFBHandle" name="fb_help.jpg" library="images" />
				</h:panelGrid>
			</p:dialog>
			<p:dialog id="dlgTWHelp" widgetVar="dlgTW" resizable="false" dynamic="true" showEffect="explode" hideEffect="bounce" position="10,100" appendToBody="true">
				<h:panelGrid columns="2" style="margin-bottom:10px">
					<p:graphicImage id="giTWHandle" name="tw_help.jpg" library="images" />
				</h:panelGrid>
			</p:dialog>
			<p:dialog id="dlgImgUpload" widgetVar="dlgImgUpload" resizable="false" dynamic="true" showEffect="explode" hideEffect="bounce" position="10,100" appendToBody="true" onHide="PF('imgAvatar').update();">
				<h:panelGrid columns="2" style="margin-bottom:10px">
					<p:imageCropper id="imgCrpUploadPhoto" widgetVar="imgCrpUploadPhoto" value="#{imageBean.croppedImage}" image="#{imageBean.cropImgSrc}" rendered="#{imageBean.show}" />
					<p:fileUpload id="fuImg" widgetVar="fuImg" update="imgCrpUploadPhoto" fileUploadListener="#{imageBean.uploadImageFile}" multiple="false" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
				</h:panelGrid>
			</p:dialog>
			<p:dialog id="dlgImgCapture" widgetVar="dlgImgCapture" resizable="false" dynamic="true" showEffect="explode" hideEffect="bounce" position="10,100" appendToBody="true" onHide="PF('imgAvatar').update();">
				<h:panelGrid columns="2" style="margin-bottom:10px">
					<p:imageCropper id="imgCrpCapturePhoto" widgetVar="imgCrpCapturePhoto" value="#{imageBean.croppedImage}" image="#{imageBean.cropImgSrc}" rendered="#{imageBean.show}" />
					<p:photoCam widgetVar="pc" listener="#{imageBean.captureImage}" update="imgCrpCapturePhoto" />
					<p:commandButton type="button" value="Capture" onclick="PF('pc').capture()" />
				</h:panelGrid>
			</p:dialog>
			<p:panelGrid id="pnlCrtUser">
				<p:row>
					<p:column rowspan="10" style="align: top;">
						<h:panelGrid id="pnlImg" columns="1">
							<p:column>
								<p:graphicImage id="imgAvatar" value="#{imageBean.image}" alt="Upload Image" height="100px" width="100px" />
							</p:column>
							<p:column>
								<h:panelGrid id="imgSelBtns" columns="2">
									<p:column>
										<p:commandButton id="btnUploadShow" value="Upload" ajax="true" onclick="PF('dlgImgUpload').show();" style="widt:50px;" />
									</p:column>
									<p:column>
										<p:commandButton id="btnCaptureShow" value="Capture" ajax="true" onclick="PF('dlgImgCapture').show();" style="widt:50px;" />
									</p:column>
								</h:panelGrid>
							</p:column>
						</h:panelGrid>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblFName" value="First Name : " />
					</p:column>
					<p:column>
						<p:inputText id="txtFName" value="#{adminBean.userBean.fName}" required="false" requiredMessage="First Name is Mandatory" />
					</p:column>
					<p:column>
						<p:outputLabel id="lblMName" value="Middle Name : " />
					</p:column>
					<p:column>
						<p:inputText id="txtMName" value="#{adminBean.userBean.mName}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblLName" value="Last Name : " />
					</p:column>
					<p:column>
						<p:inputText id="txtLName" value="#{adminBean.userBean.lName}" required="false" requiredMessage="Last Name is Mandatory" />
					</p:column>
					<p:column>
						<p:outputLabel id="lblIdNum" value="Id Number : " />
					</p:column>
					<p:column>
						<p:inputText id="txtIdNum" value="#{adminBean.userBean.idNum}" required="false" requiredMessage="ID Number is Mandatory">
							<f:validateLongRange minimum="1111111111111" maximum="9999999999999" />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblEMail" value="EMail : " />
					</p:column>
					<p:column>
						<p:inputText id="txtEMail" value="#{adminBean.userBean.eMail}" required="false" requiredMessage="EMail is Mandatory">
							<!-- <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" /> -->
						</p:inputText>
					</p:column>
					<p:column>
						<p:outputLabel id="lblContact" value="Contact : " />
					</p:column>
					<p:column>
						<p:inputMask id="txtContact" value="#{adminBean.userBean.contact}" required="false" requiredMessage="Contact Number is Mandatory" mask="(999) 999 - 9999" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblSkills" value="Skills : " />
					</p:column>
					<p:column colspan="3">
						<p:editor id="txtSkills" value="#{adminBean.userBean.skills}" required="false" requiredMessage="Skills are Mandatory" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblBio" value="Bio : " />
					</p:column>
					<p:column colspan="3">
						<p:editor id="txtBio" value="#{adminBean.userBean.bio}" required="false" requiredMessage="Bio is Mandatory" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblFBHandle" value="Facebook Handle : " />
					</p:column>
					<p:column>
						<p:row>
							<p:inputText id="txtFBHandle" value="#{adminBean.userBean.fbHandle}" required="false" requiredMessage="Facebook Handle is Mandatory">
								<!-- <f:validator validatorId="za.co.idea.web.util.SocialConnectorValidator" /> -->
								<f:attribute name="function" value="FB" />
							</p:inputText>
							<p:graphicImage id="giFBHelp" name="info.jpg" library="images" height="25px" width="25px" onclick="PF('dlgFB').show();" />
						</p:row>
					</p:column>
					<p:column>
						<p:outputLabel id="lblTWHandle" value="Twitter Handle : " />
					</p:column>
					<p:column>
						<p:row>
							<p:inputText id="txtTWHandle" value="#{adminBean.userBean.twHandle}" required="false" requiredMessage="Twitter Handle is Mandatory">
								<!-- <f:validator validatorId="za.co.idea.web.util.SocialConnectorValidator" /> -->
								<f:attribute name="function" value="TW" />
							</p:inputText>
							<p:graphicImage id="giTWHelp" name="info.jpg" library="images" height="25px" width="25px" onclick="PF('dlgTW').show();" />
						</p:row>
					</p:column>
				</p:row>
				<p:row>
					<p:column />
					<p:column>
						<p:outputLabel id="lblSCName" value="Screen Name : " />
					</p:column>
					<p:column>
						<p:inputText id="txtSCName" value="#{adminBean.userBean.scName}" required="false" requiredMessage="Screen Name is Mandatory" />
						<p:commandLink id="clCheckAvail" action="#{adminBean.checkAvailability}" ajax="false">
							<p:graphicImage id="giIdeaLike" name="big-availability-icon.gif" library="images" height="25px" width="25px" />
						</p:commandLink>
					</p:column>
					<p:column />
				</p:row>
				<p:row>
					<p:column>
						<p:outputLabel id="lblPw" value="Password : " />
					</p:column>
					<p:column>
						<p:password id="txtPw" value="#{adminBean.userBean.pwd}" match="txtCPw" feedback="true" required="false" requiredMessage="Password is Mandatory" />
					</p:column>
					<p:column>
						<p:outputLabel id="lblCPw" value="Confirm Password : " />
					</p:column>
					<p:column>
						<p:password id="txtCPw" value="#{adminBean.userBean.cPw}" required="false" requiredMessage="Confirm Password is Mandatory" />
					</p:column>
				</p:row>
				<p:row>
					<p:column colspan="4" style="align: center;">
						<p:commandButton id="btnSave" value="Save" ajax="false" action="#{adminBean.saveUser}" />
					</p:column>
				</p:row>
			</p:panelGrid>
		</ui:define>
	</ui:composition>
</h:body>
</html>
